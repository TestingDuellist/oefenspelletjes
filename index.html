<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kids Trainer</title>

<style>
  body { margin:0; font-family: system-ui, Arial; background:#f6f7fb; }

  .screen { display:none; padding:20px; }
  .screen.active { display:block; }

  .menu { max-width:420px; margin:80px auto; text-align:center; }
  .menu h1 { font-size:32px; margin-bottom:10px; }
  .menu p { color:#555; margin-bottom:30px; font-weight:700; }

  .menu button{
    width:100%;
    font-size:22px;
    padding:18px;
    margin:12px 0;
    border-radius:18px;
    border:none;
    cursor:pointer;
    font-weight:900;
    background:#2e3cff;
    color:white;
  }
  .menu button.secondary{ background:#eef1ff; color:#1b1f3a; }

  .topbar{
    display:flex; gap:10px; padding:12px;
    background:white; box-shadow:0 2px 10px rgba(0,0,0,.1);
    align-items:center;
    border-radius:16px;
  }
  .topbar button{
    padding:8px 14px; border-radius:999px; border:none;
    font-weight:900; cursor:pointer; background:#eef1ff;
  }

  .frameWrap{
    margin-top:12px;
  }
  iframe{
    width:100%;
    height:calc(100vh - 120px);
    border:0;
    border-radius:16px;
    background:white;
    box-shadow:0 2px 10px rgba(0,0,0,.06);
  }

  .errorBox{
    display:none;
    margin-top:12px;
    padding:12px;
    border-radius:16px;
    background:#fff0f0;
    border:1px solid rgba(194,42,42,.25);
    color:#8c1f1f;
    font-weight:900;
  }
  .errorBox.visible{ display:block; }

  .hint{
    margin-top:8px;
    font-size:12px;
    color:#6b7280;
    font-weight:800;
  }
</style>
</head>

<body>

<!-- MENU -->
<div id="screenMenu" class="screen active">
  <div class="menu">
    <h1>üéÆ Kies je spel</h1>
    <p>Wat wil je vandaag oefenen?</p>

    <button onclick="openGame('tafel')">üßÆ Tafels</button>
    <button class="secondary" onclick="openGame('cito')">üìò Cito groep 4M</button>
    <button class="secondary" onclick="openGame('spelling')">‚úèÔ∏è Spelling</button>
    <button class="secondary" onclick="openGame('bke')">‚≠ï‚ùå Boter Kaas & Eieren</button>
  </div>
</div>


<!-- TAFELS -->
<div id="screenTafel" class="screen">
  <div class="topbar">
    <button onclick="backToMenu()">‚¨Ö Menu</button>
    <strong>üßÆ Tafels</strong>
  </div>
  <div class="frameWrap">
    <iframe id="frameTafel" src="tafeltrainer.html"></iframe>
  </div>
</div>

<!-- CITO 4M -->
<div id="screenCito" class="screen">
  <div class="topbar">
    <button onclick="backToMenu()">‚¨Ö Menu</button>
    <strong>üìò Cito groep 4M</strong>
  </div>

  <div id="citoError" class="errorBox">
    ‚ö†Ô∏è Kan <span style="font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;">cito-groep-4m.html</span> niet laden.<br/>
    Controleer de bestandsnaam en of het bestand in dezelfde map staat als deze pagina.
  </div>

  <div class="frameWrap">
    <iframe id="frameCito" src="cito-groep-4m.html"></iframe>
  </div>
</div>

<!-- SPELLING -->
<div id="screenSpelling" class="screen">
  <div class="topbar">
    <button onclick="backToMenu()">‚¨Ö Menu</button>
    <strong>‚úèÔ∏è Spelling</strong>
  </div>
  <div class="frameWrap">
    <iframe id="frameSpelling" src="spellingtrainer.html"></iframe>
  </div>
</div>

<!-- BKE -->
<div id="screenBke" class="screen">
  <div class="topbar">
    <button onclick="backToMenu()">‚¨Ö Menu</button>
    <strong>‚≠ï‚ùå Boter Kaas & Eieren</strong>
  </div>
  <div class="frameWrap">
    <iframe id="frameBke" src="bke.html"></iframe>
  </div>
</div>

<script>
  const SCREENS = ["screenMenu","screenTafel","screenCito","screenSpelling","screenBke"];
  const FRAMES  = ["frameTafel","frameCito","frameSpelling","frameBke"];

  function resetFrames(){
    for (const id of FRAMES){
      const f = document.getElementById(id);
      if (f) f.src = f.src; // reset zodat timers/voice stoppen
    }
    if ("speechSynthesis" in window) speechSynthesis.cancel();
  }

  function showOnly(id){
    for (const s of SCREENS){
      document.getElementById(s).classList.remove("active");
    }
    document.getElementById(id).classList.add("active");
  }

  function openGame(which){
    resetFrames();

    if (which === "tafel")   return showOnly("screenTafel");
    if (which === "cito")    return showOnly("screenCito");
    if (which === "spelling")return showOnly("screenSpelling");
    return showOnly("screenBke");
  }

  function backToMenu(){
    resetFrames();
    showOnly("screenMenu");
  }

  // ---- Error helper voor Cito iframe
  // Als het bestand niet bestaat of niet geladen kan worden, laten we een melding zien.
  (function(){
    const citoFrame = document.getElementById("frameCito");
    const citoError = document.getElementById("citoError");

    if (!citoFrame) return;

    citoFrame.addEventListener("load", () => {
      // Als hij laadt: verberg foutmelding
      citoError.classList.remove("visible");
    });

    citoFrame.addEventListener("error", () => {
      citoError.classList.add("visible");
    });

    // Sommige browsers vuren geen "error" op iframe.
    // Daarom: als na 1.2s de content niet bereikbaar is, toon melding.
    setTimeout(() => {
      try {
        // access kan falen bij cross-origin; maar lokaal in dezelfde map gaat dit meestal goed
        const doc = citoFrame.contentDocument;
        if (!doc || !doc.body){
          citoError.classList.add("visible");
        }
      } catch(e){
        // Als toegang niet mag (bv. door server/cross-origin),
        // dan is het √≥f normaal √≥f het pad klopt niet.
        // We tonen de melding alleen als je lokaal werkt en het meestal wel kan.
      }
    }, 1200);
  })();
</script>

</body>
</html>
